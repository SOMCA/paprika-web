<!DOCTYPE html>
<html lang="en">
#parse("/velocity/pages/head.vm")
<body>
  <div id="wrapper">
    #parse("/velocity/pages/layout.vm")
    <div id="page-wrapper">
      <div class="row">
        <div class="col-lg-12"    style="overflow: auto">
          #if($application)
          <h1 class="page-header" style="display:block;float: left">Dashboard:  $application.getName()</h1>
<div class="page-header" style="margin-left: auto">
            <div class="col-lg-3 col-md-6" >
              <div class="panel panel-red">
                <div class="panel-footer">
                  <a href="#" id="a_text" onclick="uploadclick()">
                    <span class="pull-left">$msg.get("INDEX_SPAN_AV")</span>
                  </a>
                  <a href="#" id="a_textwait" style="display:none">
                    <span class="pull-left">$msg.get("INDEX_SPAN_AV_WAIT")</span>
                  </a>
                  <a  id="a_uploadsubmit" href="#" onclick="uploadsubmit()">
                    <span class="pull-right"><i class="fa fa-upload"></i></span>
                    <div class="clearfix"></div>
                  </a>
                  <a id="a_spinnericon" href="#" style="display:none">
                    <span  class="pull-right" ><i class="fa fa-spinner fa-spin"></i></span>
                    <div class="clearfix"></div>
                  </a>
                </div>
              </div>
            </div>
          </div>

          #else
          <h1 class="page-header">Dashboard </h1>
          #end
        </div>
        <!-- /.col-lg-12 -->
      </div>
      <!-- /.row -->

      <div class="row">
        #if($application)
        #if(!$application.isApplicationHaveAnalysedVersion())
        $msg.get("INDEX_NOT_LOGIN")
        $msg.get("INDEX_NOT_LOGIN2")
        $msg.get("INDEX_NOT_LOGIN3")
        
        #end
        #else
        $msg.get("INDEX_NOT_LOGIN")
        $msg.get("INDEX_NOT_LOGIN2")
        $msg.get("INDEX_NOT_LOGIN3")
        #end
      </div>
      #if($application)

      <!-- /.row -->
      <div class="row">
        <div class="col-lg-8">
          #if($application.isApplicationHaveAnalysedVersion())
          <div class="panel panel-default">
            <div class="panel-heading">
              <i class="fa fa-bar-chart-o fa-fw"></i> Area of number of code smells
              <div class="pull-right">
                <div class="btn-group">
                  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                    Actions
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu pull-right" role="menu">
                    <li><a href="#">Action</a>
                    </li>
                    <li><a href="#">Another action</a>
                    </li>
                    <li><a href="#">Something else here</a>
                    </li>
                    <li class="divider"></li>
                    <li><a href="#">Separated link</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- /.panel-heading -->

            <div class="panel-body" style="overflow:auto;width: 100%;height:100%;">

              #parse("/velocity/pages/areaChart.vm")
              #@mainAreaChart()
              #end

              <!-- /.row -->
            </div>

            <!-- /.panel-body -->
          </div>
          #end
          <!-- /.panel -->
          #if($application.isApplicationHaveAnalysedVersion())
          <div class="panel panel-default">
            <div class="panel-heading">
              <i class="fa fa-bar-chart-o fa-fw"></i> Radar of three last versions.
              <div class="pull-right">
                <div class="btn-group">
                  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                    Actions
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu pull-right" role="menu">
                    <li><a href="#">Action</a>
                    </li>
                    <li><a href="#">Another action</a>
                    </li>
                    <li><a href="#">Something else here</a>
                    </li>
                    <li class="divider"></li>
                    <li><a href="#">Separated link</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body" style="overflow:auto;width: 100%;height:100%;">

              #parse("/velocity/pages/radarD3.vm")
              #@mainRadarD3()
              #end

              <!-- /.row -->
            </div>
            <!-- /.panel-body -->
          </div>
          #end

        </div>
        </div>
      <!-- /.row -->
    </div>
    #end
    <!-- /#page-wrapper -->

  </div>
  <!-- /#wrapper -->
  #parse("/velocity/pages/script.vm")

  <form id="formuploadVersion" onsubmit="formsubmitWait();return false;" style="visibility: hidden; width: 1px; height: 1px" method="post" enctype="multipart/form-data" action="/index/">
    <input style="visibility: hidden; width: 1px; height: 1px" type="file" accept=".apk" name="appAndroid" id="appAndroid" required/>
    <button style="visibility: hidden; width: 1px; height: 1px" type="submit" id="submitversion">
    </button>
  </form>

  <script>
  function uploadclick() {
    document.getElementById("appAndroid").click();
    return false;
  }
  function uploadsubmit() {
    document.getElementById("submitversion").click();
    return false;
  }

  function formsubmitWait() {
    var x = document.forms["formuploadVersion"]["appAndroid"].value;
    if (x == "") {
      alert("No file");
      return false;
    }

    document.getElementById("a_text").style.display="none";
    document.getElementById("a_textwait").style.display = "inline";
    document.getElementById("a_uploadsubmit").style.display="none";
    document.getElementById("a_spinnericon").style.display = "inline";

    setTimeout(formsubmitWait2, 2000);


    return true;
  }
  function formsubmitWait2(){
    document.getElementById("formuploadVersion").onsubmit="return true;";
    document.getElementById("formuploadVersion").submit();

  }
  </script>
</body>

</html>
